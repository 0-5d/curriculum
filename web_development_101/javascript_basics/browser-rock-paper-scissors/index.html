<script>

function computerPlay() { // Function to select which move the computer makes
    let computerChoice = Math.floor(Math.random() * 3);     // returns a random integer from 0 to 2

    if(computerChoice === 0) { // If the number was 0, it returns "rock" as the computer's move
        return "rock";
    }
    else if(computerChoice === 1) { // If the number was 1, it returns "paper" as the computer's move
        return "paper"; 
    }
    
    else { // Otherwise\(if the number was two\), it returns "scissors" as the computer's move]
        return "scissors";
    }
    
}

function playRound(playerSelection, computerSelection) { // Function to play one round of rock paper scissors
  
    playerSelection = playerSelection.toLowerCase(); // Makes the user's sselection lower case to allow for any form of input ex. Rock/roCK/RoCk

    if(playerSelection !== "rock" && playerSelection !== "paper" && playerSelection !== "scissors") { // Checks if the player's input is valid
        console.log("Please select a valid choice between 'rock', 'paper' and 'scissors'"); // Lets the user know that they tried to input an invalid move
        playRound(playerSelection = prompt("Pick between Rock, Paper and Scissors"), computerSelection); // Recalls the function to ask for a valid move
    }

    if(playerSelection == "rock" && computerSelection == "scissors") { // If player was rock and computer was scissors, return 1, which designates that the player won
        return 1; // 1 is designated for the case of the player winning

    }

    else if(playerSelection == "rock" && computerSelection == "paper") { // If player was rock and computer was paper, return 0
        return 0; // 0 is designated for the case of the computer winning
    }

    else if(playerSelection == "paper" && computerSelection == "rock") { // If player was paper and computer was rock, return 1
        return 1; // 1 is designated for the case of the player winning
    }

    else if(playerSelection == "paper" && computerSelection == "scissors") { // If player was paper and computer was scissors, return 0
        return 0; // 0 is designated for the case of the computer winning
    }

    else if(playerSelection == "scissors" && computerSelection == "rock") { // If player was scissors and computer was rock, return 0
        return 0; // 0 is designated for the case of the computer winning
    }

    else if(playerSelection == "scissors" && computerSelection == "paper") { // If player was scissors and computer was paper, return 1
        return 1; // 1 is designated for the case of the player winning
    }

    else if(playerSelection == computerSelection) { // If the player and computer picked the same move, it results in a tie and returns 2
        return 2; // 2 is designated in case of a tie
    }

}
function determineVictorOfRound(numberForVictoryDecision, playerScore, computerScore = computerPlay()) { // Function used to determine the victor of a single round

    if(numberForVictoryDecision == 0) { // If the return result from function playRound was 0 (meaning that the computer won), it prints that the computer won and returns 0
            console.log("The computer won the round");
            return 0;

    }

    else if(numberForVictoryDecision == 1) { // If the return result from function playRound was 1 (meaning that the player won), it prints that the player won and returns 1
            console.log("The player won the round");
            return 1;
    }

    else { // If the result was not 1 and 2(therefore being 2), it prints that the game was a tie and returns 2
            console.log("Round was a tie");
            return 2;
    }

}

function determineVictorOfGame(playerScore, computerScore) { // Function used to determine the victor of a game
    if(playerScore > computerScore) { // If the player's final score was greater than the computer's final score, it prints that the player won
        console.log("Player won the game!");
    }

    else if(playerScore < computerScore) { // If the player's final score was leass than the computer's final score, it prints that the computer won
        console.log("Computer won the game!");
    }

    else { // If the player's final score and the computer's final score were equal, it prints that the game was a tie
        console.log("The game was a tie!");
    }
}


function game() { // Function used to play out one game 
    let playerScore = 0; // Sets the starting value of the player's score to 0
    let computerScore = 0; // Sets the starting value of the computer's score to 0
    for(i = 0; i < 5; i++) { // For 5 rounds with i representing one round, the function plays through a round with each loop for a total of 5 games
        
        let result = playRound(playerSelection = prompt("Pick between Rock, Paper and Scissors"), computerSelection = computerPlay());
        // Result is equal to the value that is returned by the function playRound after prompting the user to choose a move and calling the function computerPlay to determine the computer's move
       
        console.log("Player picked " + playerSelection); // Prints the choice made by the player
        console.log("Computer picked " + computerSelection); // Prints the choice made by the comptuer
        let winnerOfRoundIndex = determineVictorOfRound(result); // Sets winnerOfRoundIndex to the result of calling the function determineVictorOfRound with the variable "result" as the parameter 
        if(winnerOfRoundIndex == 1) { // If the winnerOfRoundIndex was 1, increases the player's score by 1
            playerScore += 1;
        }

        else if(winnerOfRoundIndex == 0) { // If the winnerOfRoundIndex was 0, increases the computer's score by 1
            computerScore += 1;
        }

        else { // In the case of a tie, increase the scores of both the player and computer
            playerScore += 1;
            computerScore += 1;
        }

    }

    determineVictorOfGame(playerScore, computerScore); // Calls the determineVictorOfGame function to compare the 2 scores and determine a winner
}
game();


</script>